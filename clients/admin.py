from django.contrib import admin
from .models import Recipient


@admin.register(Recipient)
class RecipientAdmin(admin.ModelAdmin):
    """Админ-интерфейс для модели Recipient (получатель рассылки).
    Предоставляет удобные инструменты для просмотра, поиска и управления
    получателями писем. Обеспечивает доступ к основной контактной информации
    и комментариям, а также группирует поля в логические разделы.
    Особенности:
        • Отображение email, полного имени и даты создания в списке.
        • Поиск по email, имени и комментариям.
        • Фильтрация по дате создания.
        • Разделение формы редактирования на блоки:
          «Основная информация» и «Служебные данные».
        • Поля created_at и updated_at доступны только для чтения."""

    # Основные настройки отображения списка
    list_display = ("email", "full_name", "created_at")
    search_fields = ("email", "full_name", "comment")
    list_filter = ("created_at",)
    ordering = ("-created_at",)
    readonly_fields = ("created_at", "updated_at")

    # Разделение формы редактирования на смысловые блоки
    fieldsets = (
        (
            "Основная информация",
            {
                "fields": ("email", "full_name", "comment"),
                "description": (
                    "Введите адрес электронной почты, полное имя и при необходимости "
                    "добавьте комментарий о получателе (например, должность или статус клиента)."
                ),
            },
        ),
        (
            "Служебные данные",
            {
                "fields": ("created_at", "updated_at"),
                "classes": ("collapse",),
                "description": "Системные временные метки (автоматически обновляются).",
            },
        ),
    )